<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">User</h1>
    <a class="btn btn-primary active" role="button" aria-pressed="true" href="/user/create">Add</a>
</div>

<div class="table-responsive">
    <table class="table table-striped table-sm table-hover">
        <thead class="thead-dark">
            <tr>
                <th scope="col">No.</th>
                <th scope="col">Username</th>
                <th scope="col">Password</th>
                <th scope="col">Age</th>
                <th scope="col">Email</th>
                <th scope="col">Address</th>
                <th scope="col">Phone</th>
                <th scope="col">City</th>
                <th scope="col">UserRole</th>
                <th scope="col">CreatedAt</th>
                <th scope="col">UpdatedAt</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            <% result.forEach(function(type, count){ %>
                <tr>
                    <td scope="row"><%= count %></td>
                    <form action="/user/update" method="POST">
                        <input type="hidden" name="id" value="<%= type.id %>"/>
                        <td>
                            <div class="input-group input-group-sm mb-3">
                                <input type="text" class="form-control" name="username" value="<%= type.username %>" aria-describedby="inputGroup-sizing-sm">
                            </div>
                        </td>
                        <td>
                            <div class="input-group input-group-sm mb-3">
                                <input type="password" class="form-control" name="password" value="<%= type.password %>" aria-describedby="inputGroup-sizing-sm">
                            </div>
                        </td>
                        <td>
                            <div class="input-group input-group-sm mb-3">
                                <input type="number" class="form-control" name="age" value="<%= type.age %>" aria-describedby="inputGroup-sizing-sm">
                            </div>
                        </td>
                        <td>
                            <div class="input-group input-group-sm mb-3">
                                <input type="email" class="form-control" name="email" value="<%= type.email %>" aria-describedby="inputGroup-sizing-sm">
                            </div>
                        </td>
                        <td>
                            <div class="input-group input-group-sm mb-3">
                                <input type="text" class="form-control" name="address" value="<%= type.address %>" aria-describedby="inputGroup-sizing-sm">
                            </div>
                        </td>
                        <td>
                            <div class="input-group input-group-sm mb-3">
                                <input type="text" class="form-control" name="phone" value="<%= type.phone %>" aria-describedby="inputGroup-sizing-sm">
                            </div>
                        </td>
                        <td>
                            <div class="input-group input-group-sm mb-3">
                                <select class="form-control" name="city">
                                    <% data.cities.forEach((city) => { %>
                                    <option value="<%= city.id %>"
                                    <% if(city.id == type.city) { %> selected <% } %>
                                    ><%= city.name %></option>
                                    <% }) %>
                                </select>
                            </div>
                        </td>
                        <td>
                            <div class="input-group input-group-sm mb-3">
                                <select class="form-control" name="userRole">
                                    <% data.userRole.forEach((userRole) => { %>
                                    <option value="<%= userRole.id %>"
                                    <% if(userRole.id == type.status) { %> selected <% } %>
                                    ><%= userRole.name %></option>
                                    <% }) %>
                                </select>
                            </div>
                        </td>
                        <td><%= type.createdAt %></td>
                        <td><%= type.updatedAt %></td>
                        <td>
                            <input type="submit" class="btn btn-sm btn-success" name="btnAction" value="Update"/>
                            <input type="submit" class="btn btn-sm btn-danger" name="btnAction" value="Delete"/>
                        </td>
                    </form>
                <tr>
            <% }) %>   
        </tbody>
    </table>
</div>